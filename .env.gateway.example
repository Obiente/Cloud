# VPS Gateway Service Environment Variables
# Copy this file to .env.gateway and configure for your environment

# =============================================================================
# Gateway Server Configuration (Forward Connection Pattern)
# =============================================================================

# gRPC server port (default: 1537 = OCG - Obiente Cloud Gateway)
# Port 1537 maps to "O 15 C 3 G" = "OCG" (Obiente Cloud Gateway)
GATEWAY_GRPC_PORT=1537

# Shared secret for authenticating API connections
# Must match VPS_GATEWAY_API_SECRET in API service
GATEWAY_API_SECRET=your-secure-random-secret-here-change-in-production

# Public IP for DNAT configuration (optional, for documentation)
# Actual DNAT is configured on router/firewall
# Example: GATEWAY_PUBLIC_IP=203.0.113.1
# GATEWAY_PUBLIC_IP=

# Prometheus metrics port (default: 9091)
GATEWAY_METRICS_PORT=9091

# =============================================================================
# DHCP Configuration
# =============================================================================

# Starting IP address for DHCP pool
# Example for SDN VNet 10.15.3.0/24:
GATEWAY_DHCP_POOL_START=10.15.3.20

# Ending IP address for DHCP pool
GATEWAY_DHCP_POOL_END=10.15.3.254

# Subnet address
GATEWAY_DHCP_SUBNET=10.15.3.0

# Subnet mask
GATEWAY_DHCP_SUBNET_MASK=255.255.255.0

# Gateway IP address (this will be the gateway container's IP)
GATEWAY_DHCP_GATEWAY=10.15.3.1

# DNS servers (comma-separated)
# Defaults to gateway IP if not specified
GATEWAY_DHCP_DNS=1.1.1.1,1.0.0.1

# Network interface name for dnsmasq
# For SDN VNet, this is typically the interface on the SDN bridge
# Example: eth0, eth1, or the SDN VNet interface name
GATEWAY_DHCP_INTERFACE=eth0

# =============================================================================
# Logging
# =============================================================================

# Logging level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# =============================================================================
# Notes
# =============================================================================
# 
# For Docker Compose, the volume mount should be:
#   - /var/lib/obiente/vps-gateway:/var/lib/obiente/vps-gateway
#
# The gateway requires:
#   - network_mode: host (for DHCP and network access)
#   - privileged: true (for dnsmasq and network management)
#
# Port 1537 (OCG) should be exposed via DNAT on your router/firewall
# to allow API instances to connect to the gateway.
