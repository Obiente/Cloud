// Code generated by protoc-gen-connect-go. DO NOT EDIT.
//
// Source: obiente/cloud/vpsgateway/v1/gateway_service.proto

package vpsgatewayv1connect

import (
	connect "connectrpc.com/connect"
	context "context"
	errors "errors"
	v1 "github.com/obiente/cloud/apps/shared/proto/obiente/cloud/vpsgateway/v1"
	http "net/http"
	strings "strings"
)

// This is a compile-time assertion to ensure that this generated file and the connect package are
// compatible. If you get a compiler error that this constant is not defined, this code was
// generated with a version of connect newer than the one compiled into your binary. You can fix the
// problem by either regenerating this code with an older version of connect or updating the connect
// version compiled into your binary.
const _ = connect.IsAtLeastVersion1_13_0

const (
	// VPSGatewayServiceName is the fully-qualified name of the VPSGatewayService service.
	VPSGatewayServiceName = "obiente.cloud.vpsgateway.v1.VPSGatewayService"
)

// These constants are the fully-qualified names of the RPCs defined in this package. They're
// exposed at runtime as Spec.Procedure and as the final two segments of the HTTP route.
//
// Note that these are different from the fully-qualified method names used by
// google.golang.org/protobuf/reflect/protoreflect. To convert from these constants to
// reflection-formatted method names, remove the leading slash and convert the remaining slash to a
// period.
const (
	// VPSGatewayServiceRegisterGatewayProcedure is the fully-qualified name of the VPSGatewayService's
	// RegisterGateway RPC.
	VPSGatewayServiceRegisterGatewayProcedure = "/obiente.cloud.vpsgateway.v1.VPSGatewayService/RegisterGateway"
	// VPSGatewayServiceAllocateIPProcedure is the fully-qualified name of the VPSGatewayService's
	// AllocateIP RPC.
	VPSGatewayServiceAllocateIPProcedure = "/obiente.cloud.vpsgateway.v1.VPSGatewayService/AllocateIP"
	// VPSGatewayServiceReleaseIPProcedure is the fully-qualified name of the VPSGatewayService's
	// ReleaseIP RPC.
	VPSGatewayServiceReleaseIPProcedure = "/obiente.cloud.vpsgateway.v1.VPSGatewayService/ReleaseIP"
	// VPSGatewayServiceListIPsProcedure is the fully-qualified name of the VPSGatewayService's ListIPs
	// RPC.
	VPSGatewayServiceListIPsProcedure = "/obiente.cloud.vpsgateway.v1.VPSGatewayService/ListIPs"
	// VPSGatewayServiceProxySSHProcedure is the fully-qualified name of the VPSGatewayService's
	// ProxySSH RPC.
	VPSGatewayServiceProxySSHProcedure = "/obiente.cloud.vpsgateway.v1.VPSGatewayService/ProxySSH"
	// VPSGatewayServiceGetGatewayInfoProcedure is the fully-qualified name of the VPSGatewayService's
	// GetGatewayInfo RPC.
	VPSGatewayServiceGetGatewayInfoProcedure = "/obiente.cloud.vpsgateway.v1.VPSGatewayService/GetGatewayInfo"
)

// VPSGatewayServiceClient is a client for the obiente.cloud.vpsgateway.v1.VPSGatewayService
// service.
type VPSGatewayServiceClient interface {
	// RegisterGateway handles API instance registration (forward connection pattern)
	// API instances connect to the gateway's gRPC server (port 1537 = OCG)
	// Gateway is the server, API is the client
	// The stream is used for API->Gateway communication and heartbeats
	RegisterGateway(context.Context) *connect.BidiStreamForClient[v1.GatewayMessage, v1.GatewayMessage]
	// AllocateIP allocates a DHCP IP address for a VPS instance
	AllocateIP(context.Context, *connect.Request[v1.AllocateIPRequest]) (*connect.Response[v1.AllocateIPResponse], error)
	// ReleaseIP releases a DHCP IP address for a VPS instance
	ReleaseIP(context.Context, *connect.Request[v1.ReleaseIPRequest]) (*connect.Response[v1.ReleaseIPResponse], error)
	// ListIPs lists all allocated IP addresses
	ListIPs(context.Context, *connect.Request[v1.ListIPsRequest]) (*connect.Response[v1.ListIPsResponse], error)
	// ProxySSH proxies SSH connections to VPS instances via bidirectional stream
	ProxySSH(context.Context) *connect.BidiStreamForClient[v1.ProxySSHRequest, v1.ProxySSHResponse]
	// GetGatewayInfo returns gateway status and configuration
	GetGatewayInfo(context.Context, *connect.Request[v1.GetGatewayInfoRequest]) (*connect.Response[v1.GetGatewayInfoResponse], error)
}

// NewVPSGatewayServiceClient constructs a client for the
// obiente.cloud.vpsgateway.v1.VPSGatewayService service. By default, it uses the Connect protocol
// with the binary Protobuf Codec, asks for gzipped responses, and sends uncompressed requests. To
// use the gRPC or gRPC-Web protocols, supply the connect.WithGRPC() or connect.WithGRPCWeb()
// options.
//
// The URL supplied here should be the base URL for the Connect or gRPC server (for example,
// http://api.acme.com or https://acme.com/grpc).
func NewVPSGatewayServiceClient(httpClient connect.HTTPClient, baseURL string, opts ...connect.ClientOption) VPSGatewayServiceClient {
	baseURL = strings.TrimRight(baseURL, "/")
	vPSGatewayServiceMethods := v1.File_obiente_cloud_vpsgateway_v1_gateway_service_proto.Services().ByName("VPSGatewayService").Methods()
	return &vPSGatewayServiceClient{
		registerGateway: connect.NewClient[v1.GatewayMessage, v1.GatewayMessage](
			httpClient,
			baseURL+VPSGatewayServiceRegisterGatewayProcedure,
			connect.WithSchema(vPSGatewayServiceMethods.ByName("RegisterGateway")),
			connect.WithClientOptions(opts...),
		),
		allocateIP: connect.NewClient[v1.AllocateIPRequest, v1.AllocateIPResponse](
			httpClient,
			baseURL+VPSGatewayServiceAllocateIPProcedure,
			connect.WithSchema(vPSGatewayServiceMethods.ByName("AllocateIP")),
			connect.WithClientOptions(opts...),
		),
		releaseIP: connect.NewClient[v1.ReleaseIPRequest, v1.ReleaseIPResponse](
			httpClient,
			baseURL+VPSGatewayServiceReleaseIPProcedure,
			connect.WithSchema(vPSGatewayServiceMethods.ByName("ReleaseIP")),
			connect.WithClientOptions(opts...),
		),
		listIPs: connect.NewClient[v1.ListIPsRequest, v1.ListIPsResponse](
			httpClient,
			baseURL+VPSGatewayServiceListIPsProcedure,
			connect.WithSchema(vPSGatewayServiceMethods.ByName("ListIPs")),
			connect.WithClientOptions(opts...),
		),
		proxySSH: connect.NewClient[v1.ProxySSHRequest, v1.ProxySSHResponse](
			httpClient,
			baseURL+VPSGatewayServiceProxySSHProcedure,
			connect.WithSchema(vPSGatewayServiceMethods.ByName("ProxySSH")),
			connect.WithClientOptions(opts...),
		),
		getGatewayInfo: connect.NewClient[v1.GetGatewayInfoRequest, v1.GetGatewayInfoResponse](
			httpClient,
			baseURL+VPSGatewayServiceGetGatewayInfoProcedure,
			connect.WithSchema(vPSGatewayServiceMethods.ByName("GetGatewayInfo")),
			connect.WithClientOptions(opts...),
		),
	}
}

// vPSGatewayServiceClient implements VPSGatewayServiceClient.
type vPSGatewayServiceClient struct {
	registerGateway *connect.Client[v1.GatewayMessage, v1.GatewayMessage]
	allocateIP      *connect.Client[v1.AllocateIPRequest, v1.AllocateIPResponse]
	releaseIP       *connect.Client[v1.ReleaseIPRequest, v1.ReleaseIPResponse]
	listIPs         *connect.Client[v1.ListIPsRequest, v1.ListIPsResponse]
	proxySSH        *connect.Client[v1.ProxySSHRequest, v1.ProxySSHResponse]
	getGatewayInfo  *connect.Client[v1.GetGatewayInfoRequest, v1.GetGatewayInfoResponse]
}

// RegisterGateway calls obiente.cloud.vpsgateway.v1.VPSGatewayService.RegisterGateway.
func (c *vPSGatewayServiceClient) RegisterGateway(ctx context.Context) *connect.BidiStreamForClient[v1.GatewayMessage, v1.GatewayMessage] {
	return c.registerGateway.CallBidiStream(ctx)
}

// AllocateIP calls obiente.cloud.vpsgateway.v1.VPSGatewayService.AllocateIP.
func (c *vPSGatewayServiceClient) AllocateIP(ctx context.Context, req *connect.Request[v1.AllocateIPRequest]) (*connect.Response[v1.AllocateIPResponse], error) {
	return c.allocateIP.CallUnary(ctx, req)
}

// ReleaseIP calls obiente.cloud.vpsgateway.v1.VPSGatewayService.ReleaseIP.
func (c *vPSGatewayServiceClient) ReleaseIP(ctx context.Context, req *connect.Request[v1.ReleaseIPRequest]) (*connect.Response[v1.ReleaseIPResponse], error) {
	return c.releaseIP.CallUnary(ctx, req)
}

// ListIPs calls obiente.cloud.vpsgateway.v1.VPSGatewayService.ListIPs.
func (c *vPSGatewayServiceClient) ListIPs(ctx context.Context, req *connect.Request[v1.ListIPsRequest]) (*connect.Response[v1.ListIPsResponse], error) {
	return c.listIPs.CallUnary(ctx, req)
}

// ProxySSH calls obiente.cloud.vpsgateway.v1.VPSGatewayService.ProxySSH.
func (c *vPSGatewayServiceClient) ProxySSH(ctx context.Context) *connect.BidiStreamForClient[v1.ProxySSHRequest, v1.ProxySSHResponse] {
	return c.proxySSH.CallBidiStream(ctx)
}

// GetGatewayInfo calls obiente.cloud.vpsgateway.v1.VPSGatewayService.GetGatewayInfo.
func (c *vPSGatewayServiceClient) GetGatewayInfo(ctx context.Context, req *connect.Request[v1.GetGatewayInfoRequest]) (*connect.Response[v1.GetGatewayInfoResponse], error) {
	return c.getGatewayInfo.CallUnary(ctx, req)
}

// VPSGatewayServiceHandler is an implementation of the
// obiente.cloud.vpsgateway.v1.VPSGatewayService service.
type VPSGatewayServiceHandler interface {
	// RegisterGateway handles API instance registration (forward connection pattern)
	// API instances connect to the gateway's gRPC server (port 1537 = OCG)
	// Gateway is the server, API is the client
	// The stream is used for API->Gateway communication and heartbeats
	RegisterGateway(context.Context, *connect.BidiStream[v1.GatewayMessage, v1.GatewayMessage]) error
	// AllocateIP allocates a DHCP IP address for a VPS instance
	AllocateIP(context.Context, *connect.Request[v1.AllocateIPRequest]) (*connect.Response[v1.AllocateIPResponse], error)
	// ReleaseIP releases a DHCP IP address for a VPS instance
	ReleaseIP(context.Context, *connect.Request[v1.ReleaseIPRequest]) (*connect.Response[v1.ReleaseIPResponse], error)
	// ListIPs lists all allocated IP addresses
	ListIPs(context.Context, *connect.Request[v1.ListIPsRequest]) (*connect.Response[v1.ListIPsResponse], error)
	// ProxySSH proxies SSH connections to VPS instances via bidirectional stream
	ProxySSH(context.Context, *connect.BidiStream[v1.ProxySSHRequest, v1.ProxySSHResponse]) error
	// GetGatewayInfo returns gateway status and configuration
	GetGatewayInfo(context.Context, *connect.Request[v1.GetGatewayInfoRequest]) (*connect.Response[v1.GetGatewayInfoResponse], error)
}

// NewVPSGatewayServiceHandler builds an HTTP handler from the service implementation. It returns
// the path on which to mount the handler and the handler itself.
//
// By default, handlers support the Connect, gRPC, and gRPC-Web protocols with the binary Protobuf
// and JSON codecs. They also support gzip compression.
func NewVPSGatewayServiceHandler(svc VPSGatewayServiceHandler, opts ...connect.HandlerOption) (string, http.Handler) {
	vPSGatewayServiceMethods := v1.File_obiente_cloud_vpsgateway_v1_gateway_service_proto.Services().ByName("VPSGatewayService").Methods()
	vPSGatewayServiceRegisterGatewayHandler := connect.NewBidiStreamHandler(
		VPSGatewayServiceRegisterGatewayProcedure,
		svc.RegisterGateway,
		connect.WithSchema(vPSGatewayServiceMethods.ByName("RegisterGateway")),
		connect.WithHandlerOptions(opts...),
	)
	vPSGatewayServiceAllocateIPHandler := connect.NewUnaryHandler(
		VPSGatewayServiceAllocateIPProcedure,
		svc.AllocateIP,
		connect.WithSchema(vPSGatewayServiceMethods.ByName("AllocateIP")),
		connect.WithHandlerOptions(opts...),
	)
	vPSGatewayServiceReleaseIPHandler := connect.NewUnaryHandler(
		VPSGatewayServiceReleaseIPProcedure,
		svc.ReleaseIP,
		connect.WithSchema(vPSGatewayServiceMethods.ByName("ReleaseIP")),
		connect.WithHandlerOptions(opts...),
	)
	vPSGatewayServiceListIPsHandler := connect.NewUnaryHandler(
		VPSGatewayServiceListIPsProcedure,
		svc.ListIPs,
		connect.WithSchema(vPSGatewayServiceMethods.ByName("ListIPs")),
		connect.WithHandlerOptions(opts...),
	)
	vPSGatewayServiceProxySSHHandler := connect.NewBidiStreamHandler(
		VPSGatewayServiceProxySSHProcedure,
		svc.ProxySSH,
		connect.WithSchema(vPSGatewayServiceMethods.ByName("ProxySSH")),
		connect.WithHandlerOptions(opts...),
	)
	vPSGatewayServiceGetGatewayInfoHandler := connect.NewUnaryHandler(
		VPSGatewayServiceGetGatewayInfoProcedure,
		svc.GetGatewayInfo,
		connect.WithSchema(vPSGatewayServiceMethods.ByName("GetGatewayInfo")),
		connect.WithHandlerOptions(opts...),
	)
	return "/obiente.cloud.vpsgateway.v1.VPSGatewayService/", http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		switch r.URL.Path {
		case VPSGatewayServiceRegisterGatewayProcedure:
			vPSGatewayServiceRegisterGatewayHandler.ServeHTTP(w, r)
		case VPSGatewayServiceAllocateIPProcedure:
			vPSGatewayServiceAllocateIPHandler.ServeHTTP(w, r)
		case VPSGatewayServiceReleaseIPProcedure:
			vPSGatewayServiceReleaseIPHandler.ServeHTTP(w, r)
		case VPSGatewayServiceListIPsProcedure:
			vPSGatewayServiceListIPsHandler.ServeHTTP(w, r)
		case VPSGatewayServiceProxySSHProcedure:
			vPSGatewayServiceProxySSHHandler.ServeHTTP(w, r)
		case VPSGatewayServiceGetGatewayInfoProcedure:
			vPSGatewayServiceGetGatewayInfoHandler.ServeHTTP(w, r)
		default:
			http.NotFound(w, r)
		}
	})
}

// UnimplementedVPSGatewayServiceHandler returns CodeUnimplemented from all methods.
type UnimplementedVPSGatewayServiceHandler struct{}

func (UnimplementedVPSGatewayServiceHandler) RegisterGateway(context.Context, *connect.BidiStream[v1.GatewayMessage, v1.GatewayMessage]) error {
	return connect.NewError(connect.CodeUnimplemented, errors.New("obiente.cloud.vpsgateway.v1.VPSGatewayService.RegisterGateway is not implemented"))
}

func (UnimplementedVPSGatewayServiceHandler) AllocateIP(context.Context, *connect.Request[v1.AllocateIPRequest]) (*connect.Response[v1.AllocateIPResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("obiente.cloud.vpsgateway.v1.VPSGatewayService.AllocateIP is not implemented"))
}

func (UnimplementedVPSGatewayServiceHandler) ReleaseIP(context.Context, *connect.Request[v1.ReleaseIPRequest]) (*connect.Response[v1.ReleaseIPResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("obiente.cloud.vpsgateway.v1.VPSGatewayService.ReleaseIP is not implemented"))
}

func (UnimplementedVPSGatewayServiceHandler) ListIPs(context.Context, *connect.Request[v1.ListIPsRequest]) (*connect.Response[v1.ListIPsResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("obiente.cloud.vpsgateway.v1.VPSGatewayService.ListIPs is not implemented"))
}

func (UnimplementedVPSGatewayServiceHandler) ProxySSH(context.Context, *connect.BidiStream[v1.ProxySSHRequest, v1.ProxySSHResponse]) error {
	return connect.NewError(connect.CodeUnimplemented, errors.New("obiente.cloud.vpsgateway.v1.VPSGatewayService.ProxySSH is not implemented"))
}

func (UnimplementedVPSGatewayServiceHandler) GetGatewayInfo(context.Context, *connect.Request[v1.GetGatewayInfoRequest]) (*connect.Response[v1.GetGatewayInfoResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("obiente.cloud.vpsgateway.v1.VPSGatewayService.GetGatewayInfo is not implemented"))
}
