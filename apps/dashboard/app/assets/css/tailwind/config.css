/**
 * Obiente UI - Tailwind v4 Configuration
 * 
 * Maps OUI theme variables to standard Tailwind color names.
 * This allows using normal Tailwind utilities like bg-primary, text-surface-base, etc.
 * with OUI theming automatically applied.
 */

@import 'tailwindcss';

@theme inline {
  --color-*: initial;

  /* Map OUI variables to standard Tailwind color tokens */
  --color-background: var(--oui-background);
  --color-foreground: var(--oui-foreground);

  /* Surface colors */
  --color-surface: var(--oui-surface-base);
  --color-surface-base: var(--oui-surface-base);
  --color-surface-raised: var(--oui-surface-raised);
  --color-surface-overlay: var(--oui-surface-overlay);
  --color-surface-muted: var(--oui-surface-muted);

  /* Text colors */
  --text-color-primary: var(--oui-text-primary);
  --text-color-secondary: var(--oui-text-secondary);
  --text-color-tertiary: var(--oui-text-tertiary);
  --text-color-disabled: var(--oui-text-disabled);
  --color-text-primary: var(--oui-text-primary);
  --color-text-secondary: var(--oui-text-secondary);
  --color-text-tertiary: var(--oui-text-tertiary);
  --color-text-disabled: var(--oui-text-disabled);

  /* Accent colors */
  --color-accent-primary: var(--oui-accent-primary);
  --color-accent-secondary: var(--oui-accent-secondary);
  --color-accent-success: var(--oui-accent-success);
  --color-accent-warning: var(--oui-accent-warning);
  --color-accent-danger: var(--oui-accent-danger);
  --color-accent-info: var(--oui-accent-info);
  --color-primary: var(--oui-accent-primary);
  --color-secondary: var(--oui-accent-secondary);
  --color-success: var(--oui-accent-success);
  --color-warning: var(--oui-accent-warning);
  --color-danger: var(--oui-accent-danger);
  --color-info: var(--oui-accent-info);

  /* Border colors */
  --border-color-border-default: var(--oui-border-default);
  --border-color-border-muted: var(--oui-border-muted);
  --border-color-border-strong: var(--oui-border-strong);
  --color-border-default: var(--oui-border-default);
  --color-border-muted: var(--oui-border-muted);
  --color-border-strong: var(--oui-border-strong);

  /* Interactive states */
  --color-hover: var(--oui-interactive-hover);
  --color-active: var(--oui-interactive-active);
  --color-disabled: var(--oui-interactive-disabled);
  --color-focus: var(--oui-interactive-focus);

  --radius-xs: calc(0.125rem * var(--oui-radius-base, 1));
  --radius-sm: calc(0.25rem * var(--oui-radius-base, 1));
  --radius-md: calc(0.375rem * var(--oui-radius-base, 1));
  --radius-lg: calc(0.5rem * var(--oui-radius-base, 1));
  --radius-xl: calc(0.75rem * var(--oui-radius-base, 1));
  --radius-2xl: calc(1rem * var(--oui-radius-base, 1));
  --radius-3xl: calc(1.5rem * var(--oui-radius-base, 1));
  --radius-4xl: calc(2rem * var(--oui-radius-base, 1));

  --spacing: calc(0.25rem * var(--oui-spacing-base, 1));
  --breakpoint-sm: calc(40rem * var(--oui-sizing-base, 1));
  --breakpoint-md: calc(48rem * var(--oui-sizing-base, 1));
  --breakpoint-lg: calc(64rem * var(--oui-sizing-base, 1));
  --breakpoint-xl: calc(80rem * var(--oui-sizing-base, 1));
  --breakpoint-2xl: calc(96rem * var(--oui-sizing-base, 1));
  --container-3xs: calc(16rem * var(--oui-sizing-base, 1));
  --container-2xs: calc(18rem * var(--oui-sizing-base, 1));
  --container-xs: calc(20rem * var(--oui-sizing-base, 1));
  --container-sm: calc(24rem * var(--oui-sizing-base, 1));
  --container-md: calc(28rem * var(--oui-sizing-base, 1));
  --container-lg: calc(32rem * var(--oui-sizing-base, 1));
  --container-xl: calc(36rem * var(--oui-sizing-base, 1));
  --container-2xl: calc(42rem * var(--oui-sizing-base, 1));
  --container-3xl: calc(48rem * var(--oui-sizing-base, 1));
  --container-4xl: calc(56rem * var(--oui-sizing-base, 1));
  --container-5xl: calc(64rem * var(--oui-sizing-base, 1));
  --container-6xl: calc(72rem * var(--oui-sizing-base, 1));
  --container-7xl: calc(80rem * var(--oui-sizing-base, 1));
  --text-xs: calc(0.75rem * var(--oui-typography-base, 1));
  --text-xs--line-height: calc(1 / (0.75 * var(--oui-typography-base, 1)));
  --text-sm: calc(0.875rem * var(--oui-typography-base, 1));
  --text-sm--line-height: calc(1.25 / (0.875 * var(--oui-typography-base, 1)));
  --text-base: calc(1rem * var(--oui-typography-base, 1));
  --text-base--line-height: calc(1.5 / (1 * var(--oui-typography-base, 1)));
  --text-lg: calc(1.125rem * var(--oui-typography-base, 1));
  --text-lg--line-height: calc(1.75 / (1.125 * var(--oui-typography-base, 1)));
  --text-xl: calc(1.25rem * var(--oui-typography-base, 1));
  --text-xl--line-height: calc(1.75 / (1.25 * var(--oui-typography-base, 1)));
  --text-2xl: calc(1.5rem * var(--oui-typography-base, 1));
  --text-2xl--line-height: calc(2 / (1.5 * var(--oui-typography-base, 1)));
  --text-3xl: calc(1.875rem * var(--oui-typography-base, 1));
  --text-3xl--line-height: calc(2.25 / (1.875 * var(--oui-typography-base, 1)));
  --text-4xl: calc(2.25rem * var(--oui-typography-base, 1));
  --text-4xl--line-height: calc(2.5 / (2.25 * var(--oui-typography-base, 1)));
  --text-5xl: calc(3rem * var(--oui-typography-base, 1));
  --text-5xl--line-height: 1;
  --text-6xl: calc(3.75rem * var(--oui-typography-base, 1));
  --text-6xl--line-height: 1;
  --text-7xl: calc(4.5rem * var(--oui-typography-base, 1));
  --text-7xl--line-height: 1;
  --text-8xl: calc(6rem * var(--oui-typography-base, 1));
  --text-8xl--line-height: 1;
  --text-9xl: calc(8rem * var(--oui-typography-base, 1));
  --text-9xl--line-height: 1;
  --font-weight-thin: 100;
  --font-weight-extralight: 200;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0em;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;
}

/* 
@utility border-?-* {
  border-color: --value(--color-border-*, [color]);
  border-top-color: --modifier(--color-border-*, [color]);
  border-bottom-color: --modifier(--color-border-*, [color]);
  border-left-color: --modifier(--color-border-*, [color]);
  border-right-color: --modifier(--color-border-*, [color]);
}
 */

/* Custom OUI-specific utilities that Tailwind can't generate */
@utility oui-focus-ring {
  outline: 2px solid var(--oui-interactive-focus);
  outline-offset: 2px;
}

*:focus-visible {
  @apply oui-focus-ring;
}

@utility oui-interactive {
  transition: all 0.2s ease-in-out;

  &:hover:not(:disabled) {
    background-color: var(--oui-interactive-hover);
  }

  &:active:not(:disabled) {
    background-color: var(--oui-interactive-active);
  }

  &:disabled {
    background-color: var(--oui-interactive-disabled);
    color: var(--oui-text-disabled);
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:focus-visible {
    outline: 2px solid var(--oui-interactive-focus);
    outline-offset: 2px;
  }
}

@utility oui-loading {
  position: relative;
  color: transparent;

  &::after {
    content: '';
    position: absolute;
    width: 1rem;
    height: 1rem;
    top: 50%;
    left: 50%;
    margin-left: -0.5rem;
    margin-top: -0.5rem;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: oui-spin 1s linear infinite;
  }
}

@keyframes oui-spin {
  to {
    transform: rotate(360deg);
  }
}

/* Custom utilities using @utility directive for Tailwind v4 */
@utility oui-focus-ring {
  outline: 2px solid var(--oui-interactive-focus);
  outline-offset: 2px;
}

@utility oui-focus-ring-inset {
  outline: 2px solid var(--oui-interactive-focus);
  outline-offset: -2px;
}

@utility oui-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

@utility oui-not-sr-only {
  position: static;
  width: auto;
  height: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

@utility oui-interactive {
  transition: all 0.2s ease-in-out;

  &:hover:not(:disabled) {
    background-color: var(--oui-interactive-hover);
  }

  &:active:not(:disabled) {
    background-color: var(--oui-interactive-active);
  }

  &:disabled {
    background-color: var(--oui-interactive-disabled);
    color: var(--oui-text-disabled);
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:focus-visible {
    outline: 2px solid var(--oui-interactive-focus);
    outline-offset: 2px;
  }
}

@utility oui-loading-spin {
  position: relative;
  color: transparent;

  &::after {
    content: '';
    position: absolute;
    width: 1rem;
    height: 1rem;
    top: 50%;
    left: 50%;
    margin-left: -0.5rem;
    margin-top: -0.5rem;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: oui-spin 1s linear infinite;
  }
}

@keyframes oui-spin {
  to {
    transform: rotate(360deg);
  }
}

@utility oui-input-group {
  display: flex;

  & > * {
    position: relative;
    z-index: 0;
  }

  & > *:not(:first-child) {
    margin-left: -1px;
  }

  & > *:first-child {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  & > *:last-child {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  & > *:not(:first-child):not(:last-child) {
    border-radius: 0;
  }

  & > *:focus {
    z-index: 10;
  }
}

@utility oui-stack {
  display: flex;
  flex-direction: column;

  &[data-gap='1'] > * + * {
    margin-top: var(--spacing-oui-1);
  }

  &[data-gap='2'] > * + * {
    margin-top: var(--spacing-oui-2);
  }

  &[data-gap='3'] > * + * {
    margin-top: var(--spacing-oui-3);
  }

  &[data-gap='4'] > * + * {
    margin-top: var(--spacing-oui-4);
  }

  &[data-gap='6'] > * + * {
    margin-top: var(--spacing-oui-6);
  }

  &[data-gap='8'] > * + * {
    margin-top: var(--spacing-oui-8);
  }
}
